
<!DOCTYPE html>
<html>
	<head>
		<title>TODO supply a title</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<script type="text/javascript" src="https://static.stringee.com/web_phone/lastest/js/jquery-3.1.0.min.js"></script>
	</head>
	<body>

		<style>
			.display-none {
				display: none !important;
			}

			#header {
				height: 50px;
				position: relative;
			}

			.channels-control {
				background-color: #E9EBED;
				border-radius: 4px;

			}

			#header-call-btn {
				position: absolute;
				right: 900px;
				width: 50px;
				height: 25px;
				cursor: pointer;
			}

			#make-call-btn {
				position: absolute;
				right: 1100px;
				width: 150px;
				height: 25px;
				cursor: pointer;
			}
		</style>



		<script src="https://static.stringee.com/web_phone/lastest/js/StringeeSoftPhone-lastest.js"></script>

		<script>
			var config = {
				showMode: 'full',
				top: 45,
//				left: 50,
				right: 810,

				arrowLeft: 155,
				arrowDisplay: 'top',

				fromNumbers: [
					{alias: 'Huy-1', number: '+84899199586'},
					{alias: 'Huy-2', number: '+2222'}
				]
			};
			StringeeSoftPhone.init(config);


			//userId = huy1
			var access_token2 = 'eyJjdHkiOiJzdHJpbmdlZS1hcGk7dj0xIiwidHlwIjoiSldUIiwiYWxnIjoiSFMyNTYifQ.eyJqdGkiOiJTS2FKTnN2bHZUaHJoTG5KY205NVZOV05UUG1TbkllYlh1LTE1MzQ2OTcyNDkiLCJpc3MiOiJTS2FKTnN2bHZUaHJoTG5KY205NVZOV05UUG1TbkllYlh1IiwiZXhwIjoxNTM3Mjg5MjQ5LCJ1c2VySWQiOiJodXkxIiwiaWNjX2FwaSI6dHJ1ZX0.OJ1_ynZfC_CP5JBIcHapyJt6I5W1U2GsijkFTrxvC_8';

			//userId = huy
			access_token2 = 'eyJjdHkiOiJzdHJpbmdlZS1hcGk7dj0xIiwidHlwIjoiSldUIiwiYWxnIjoiSFMyNTYifQ.eyJqdGkiOiJTS2FKTnN2bHZUaHJoTG5KY205NVZOV05UUG1TbkllYlh1LTE1MzcwMDQwMDQiLCJpc3MiOiJTS2FKTnN2bHZUaHJoTG5KY205NVZOV05UUG1TbkllYlh1IiwiZXhwIjoxNTM5NTk2MDA0LCJ1c2VySWQiOiJodXkiLCJpY2NfYXBpIjp0cnVlfQ.NWuvFZHts6lu1-pDS54RANJ0oWZ-T8DXZZMbZvMQgi0';

			StringeeSoftPhone.on('displayModeChange', function (event) {
				console.log('displayModeChange', event);
				if (event === 'min') {
					StringeeSoftPhone.config({arrowLeft: 75});
				} else if (event === 'full') {
					StringeeSoftPhone.config({arrowLeft: 155});
				}
			});

			StringeeSoftPhone.on('requestNewToken', function () {
				console.log('requestNewToken+++++++');
				StringeeSoftPhone.connect(access_token2);
			});

			//access token het han
			var access_token1 = 'eyJjdHkiOiJzdHJpbmdlZS1hcGk7dj0xIiwidHlwIjoiSldUIiwiYWxnIjoiSFMyNTYifQ.eyJqdGkiOiJTS0xIb2NCdDl6Qk5qc1pLeThZaUVkSzRsU3NBZjhCSHpyLTE1MzUwMjQ1MzkiLCJpc3MiOiJTS0xIb2NCdDl6Qk5qc1pLeThZaUVkSzRsU3NBZjhCSHpyIiwiZXhwIjoxNTM1MDI0NTI5LCJ1c2VySWQiOiJodXlkbiIsImF0dHJpYnV0ZXMiOiJbXG5cdFx0XHR7YXR0cmlidXRlOiBcIm1hbnVhbF9zdGF0dXNcIiwgdG9waWM6IFwic3RhdHVzX2h1eWRuXCJ9XG5cdFx0XSIsInN1YnNjcmliZSI6InN0YXR1c19sdWFuIiwiaWNjX2FwaSI6dHJ1ZX0.v9wtWfylhgk8sexZ2MA2aV8po-1KpsDt0wZiEAI9FXE';

			//userId = luan1
//	var access_token = 'eyJjdHkiOiJzdHJpbmdlZS1hcGk7dj0xIiwidHlwIjoiSldUIiwiYWxnIjoiSFMyNTYifQ.eyJqdGkiOiJTS2FKTnN2bHZUaHJoTG5KY205NVZOV05UUG1TbkllYlh1LTE1MzQ2OTcyODciLCJpc3MiOiJTS2FKTnN2bHZUaHJoTG5KY205NVZOV05UUG1TbkllYlh1IiwiZXhwIjoxNTM3Mjg5Mjg3LCJ1c2VySWQiOiJsdWFuMSIsImljY19hcGkiOnRydWV9.mHePxYPAVDPmKrrhfbBrIurzGjsEVD7uPucpJeJ2vkM';


			//test
			setTimeout(function () {
				StringeeSoftPhone.connect(access_token2);

//				StringeeSoftPhone.show('full');				
//				StringeeSoftPhone.config({fromNumbers: [{alias: 'Huy-1', number: '+1111'}, {alias: 'Huy-2', number: '+2222'}]});
			}, 500);

//			StringeeSoftPhone.config({fromNumbers: [{alias: 'Huy2', number: '+22222'}]});



//			StringeeSoftPhone.show('full');

//			StringeeSoftPhone.config({arrowDisplay: 'bottom'});
		</script>

		<script>
			$(document).ready(function () {
				$('#make-call-btn').on('click', function () {
					StringeeSoftPhone.makeCall('84123456789', '84986776707', function (res) {
						console.log('res: ', res);
					});
				});
			});
		</script>

		<div id="header">
			<button id="make-call-btn" class="channels-control" tabindex="-1" data-ember-action="1866">
				Make call
			</button>

			<button id="header-call-btn" class="channels-control" tabindex="-1" data-ember-action="1866">
				Call
			</button>
		</div>

	</body>
</html>
